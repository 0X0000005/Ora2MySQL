-- 完整的 MyBatis Mapper 测试SQL
-- 应该保留所有 #{} 和 ${} 参数

SELECT 
  emp_id,
  emp_name,
  NVL(email, 'no-email@company.com') as email,
  TO_CHAR(hire_date, 'YYYY-MM-DD') as hire_date_str,
  TO_CHAR(created_date, 'YYYY-MM-DD HH24:MI:SS') as created_str,
  SUBSTR(emp_name, 1, 10) as short_name,
  SYSDATE as current_time
FROM employees
WHERE 1=1
  AND emp_name LIKE CONCAT('%', #{searchName}, '%')
  AND status = #{status}
  AND created_date >= SYSDATE - #{days}
ORDER BY hire_date DESC;
